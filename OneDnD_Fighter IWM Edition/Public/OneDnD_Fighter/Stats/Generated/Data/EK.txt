new entry "ExtraAttack_EK"
type "PassiveData"
using "ExtraAttack"
data "DisplayName" "h9d57da1f814d4624a44de51f40b15e6a7cg4"
data "Description" "hd538fde0d4614113b7c957e1a95b5475d691"
data "Icon" "PassiveFeature_WarMagic"
data "StatsFunctorContext" "OnCast;OnStatusRemoved;OnStatusApplied"
data "Conditions" "not HasPassive('ExtraAttack_2',context.Source) and (context.HasContextFlag(StatsFunctorContext.OnCast) and (ExtraAttackSpellCheck() or IsCantrip()) and HasUseCosts('ActionPoint', true) and not Tagged('EXTRA_ATTACK_BLOCKED',context.Source) and not HasStatus('SLAYER_PLAYER',context.Source) and not HasStatus('SLAYER_PLAYER_10',context.Source) and TurnBased(context.Source)) or (context.HasContextFlag(StatsFunctorContext.OnStatusRemoved) and StatusId('INITIAL_ATTACK_TECHNICAL') and TurnBased()) or (context.HasContextFlag(StatsFunctorContext.OnStatusApplied))"
data "StatsFunctors" "IF(((HasAnyHaste(context.Source) and not HasStatus('EXTRA_ATTACK_TRACKER', context.Source)) or (not HasAnyHaste(context.Source))) and context.HasContextFlag(StatsFunctorContext.OnCast) and not IsCantrip()):ApplyStatus(SELF,EXTRA_ATTACK_EK_Q,100,1);IF(((HasAnyHaste(context.Target) and not HasStatus('EXTRA_ATTACK_TRACKER', context.Target)) or (not HasAnyHaste(context.Target))) and context.HasContextFlag(StatsFunctorContext.OnStatusRemoved) and not IsCantrip()):ApplyStatus(EXTRA_ATTACK_EK_Q,100,1);IF(((HasAnyHaste(context.Source) and not HasStatus('EXTRA_ATTACK_TRACKER', context.Source)) or (not HasAnyHaste(context.Source))) and context.HasContextFlag(StatsFunctorContext.OnCast) and IsCantrip()):ApplyStatus(SELF,EXTRA_ATTACK_EK_CANTRIP_Q,100,1);IF(context.HasContextFlag(StatsFunctorContext.OnStatusApplied) and StatusId('EXTRA_ATTACK_EK_CANTRIP_Q') and not HasHigherPriorityExtraAttackQueued_EK('EXTRA_ATTACK_EK_CANTRIP_Q') and not HasAnyExtraAttack_EK()):ApplyStatus(EXTRA_ATTACK_EK_CANTRIP, 100, 1);IF(context.HasContextFlag(StatsFunctorContext.OnStatusApplied) and StatusId('EXTRA_ATTACK_EK_Q') and not HasHigherPriorityExtraAttackQueued_EK_Cantrip('EXTRA_ATTACK_EK_Q') and not HasAnyExtraAttack_EK()):ApplyStatus(EXTRA_ATTACK_EK, 100, 1)"

new entry "EXTRA_ATTACK_EK"
type "StatusData"
data "StatusType" "BOOST"
using "EXTRA_ATTACK"
data "Boosts" "UnlockSpellVariant(ExtraAttackCheck() or IsCantrip(),ModifyUseCosts(Replace,ActionPoint,0,0,ActionPoint),ModifyIconGlow(),ModifyTooltipDescription())"
data "OnRemoveFunctors" "IF(not RemoveCause(StatusRemoveCause.TimeOut) and not HasStatus('ACTION_SURGE_ATTACK')):ApplyStatus(EXTRA_ATTACK_TRACKER, 100, 1);IF(HasStatus('ACTION_SURGE_ATTACK') and not HasAnyExtraAttack()):RemoveStatus(ACTION_SURGE_ATTACK)"
data "RemoveConditions" "(ExtraAttackSpellCheck() or IsCantrip()) and HasUseCosts('ActionPoint',false,context.Target) and not IsOffHandAttack()"
data "StackPriority" "21"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "DisplayName" "hd45de40cad7f4d038592e8b78c2635b3fa52"

new entry "EXTRA_ATTACK_EK_CANTRIP"
type "StatusData"
data "StatusType" "BOOST"
using "EXTRA_ATTACK_EK"
data "DisplayName" "he7bee55bf036411c89a008b9edb0f300ef1a"
data "Boosts" "UnlockSpellVariant(ExtraAttackCheck() & ~IsCantrip(),ModifyUseCosts(Replace,ActionPoint,0,0,ActionPoint),ModifyIconGlow(),ModifyTooltipDescription())"
data "OnRemoveFunctors" "IF(not HasStatus('ACTION_SURGE_ATTACK')):ApplyStatus(EXTRA_ATTACK_TRACKER, 100, 1);IF(HasStatus('ACTION_SURGE_ATTACK') and not HasAnyExtraAttack()):RemoveStatus(ACTION_SURGE_ATTACK)"
data "RemoveConditions" "ExtraAttackSpellCheck() and not IsCantrip() and HasUseCosts('ActionPoint',false,context.Target) and not IsOffHandAttack()"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "DisplayName" "h17af63fef4164a1685067ee3eca8f9ba8fac"

new entry "EXTRA_ATTACK_EK_Q"
type "StatusData"
data "StatusType" "BOOST"
using "EXTRA_ATTACK_Q"
data "StackPriority" "11"
data "RemoveConditions" "not HasHigherPriorityExtraAttackQueued_EK('EXTRA_ATTACK_EK_Q') and not HasAnyExtraAttack_EK()"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.Condition)):ApplyStatus(EXTRA_ATTACK_EK,100,1)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "DisplayName" "h40d34a9faad74ccbbbaf080af161b7fce0eb"

new entry "EXTRA_ATTACK_EK_CANTRIP_Q"
type "StatusData"
data "StatusType" "BOOST"
using "EXTRA_ATTACK_Q"
data "StackPriority" "11"
data "RemoveConditions" "not HasAnyExtraAttack_EK()"
data "OnRemoveFunctors" "IF(RemoveCause(StatusRemoveCause.Condition)):ApplyStatus(EXTRA_ATTACK_EK_CANTRIP,100,1)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "DisplayName" "hcb3fabcd66a640d581720f547d0b748fc664"

new entry "ExtraAttack_2_EK"
type "PassiveData"
using "ExtraAttack_2"
data "Description" "h58b39ce89b91453a8e0f287cbea4b2a04e8d"
data "StatsFunctorContext" ""
data "Conditions" ""
data "StatsFunctors" ""

new entry "WarMagic_EK"
type "PassiveData"
data "DisplayName" "h50e3d7edg5f31g4a30gb3ecga03a73857828;2"
data "Description" "h066600e68c4e4e2982df29779e2f42317083"
data "Icon" "PassiveFeature_WarMagic"
data "Properties" "Highlighted"

new entry "ImprovedWarMagic_EK"
type "PassiveData"
data "DisplayName" "h84eda45cg42c2g4a17gad5agbc74d392d844;2"
data "Description" "hc74b7348g02a1g4324gb503gb777d1f229d2"
data "Icon" "PassiveFeature_WarMagic"
data "Properties" "Highlighted"

new entry "EXTRA_ATTACK_2_EK"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hd45de40cad7f4d038592e8b78c2635b3fa52"
data "Description" "h58b39ce89b91453a8e0f287cbea4b2a04e8d"
data "Boosts" "UnlockSpellVariant(ExtraAttackCheck(),ModifyUseCosts(Replace,ActionPoint,0,0,ActionPoint),ModifyIconGlow(),ModifyTooltipDescription())"
data "StatusPropertyFlags" "DisableCombatlog;DisablePortraitIndicator;DisableOverhead;ApplyToDead"

new entry "EXTRA_ATTACK_2_EK_CANTRIP"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "he7bee55bf036411c89a008b9edb0f300ef1a"
data "Description" "h58b39ce89b91453a8e0f287cbea4b2a04e8d"
data "Boosts" "UnlockSpellVariant(IsCantrip(),ModifyUseCosts(Replace,ActionPoint,0,0,ActionPoint),ModifyIconGlow(),ModifyTooltipDescription())"
data "StatusPropertyFlags" "DisableCombatlog;DisablePortraitIndicator;DisableOverhead;ApplyToDead"

new entry "EXTRA_ATTACK_2_EK_SPELL"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "hadf3d9a3g7b11g4107g90fcgdd9878afba4c"
data "Description" "hbdf17663g76a8g4b7eg9789g637355bd5804"
data "Boosts" "UnlockSpellVariant(~IsSpellLevel(0),ModifyUseCosts(Replace,ActionPoint,0,0,ActionPoint),ModifyIconGlow(),ModifyTooltipDescription())"
data "StatusPropertyFlags" "DisableCombatlog;DisablePortraitIndicator;DisableOverhead;ApplyToDead"